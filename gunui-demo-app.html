<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="demo/demo-imports.html">
<!--
`gunui-demo-app`
Main documentation for GunUi
This will be loaded by individual elements!
@demo demo/index.html
-->

<dom-module id="gunui-demo-app">
  <template>
    <style>
      :host { display: block;}
    </style>
   	<paper-drawer-panel>
    	<paper-header-panel drawer>
      	<paper-toolbar>Menu</paper-toolbar>

      	<paper-menu id="menu" selected="{{currentUrl}}" attr-for-selected="data-url" on-iron-activate="navigate">
          <paper-item data-url="../gunui-demo-app/docs/docsmain.html?gunui">GunUi</paper-item>  
<!-- 
  you could be actually IN the requested element!! 
  data-url should point to the elements demo 
  at https://stefdv.github.io/gun-ui-<element>/components/gun-ui-<element>/
  which - in turn -  should point to 'demo/index.html'

-->
          <paper-item data-url="https://stefdv.github.io/gun-ui-ledbutton/components/gun-ui-ledbutton/" class="indent"><code>&lt;gun-ui-ledbutton&gt;</code></paper-item>



      	</paper-menu>
      	<div id="noresults">Sorry, no results</div>
      </paper-header-panel>

      <paper-header-panel main>
      	<paper-toolbar>
      		<paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
      		<div class="title small">{{title}}</div>
      	</paper-toolbar>

      	<div id="content">
					<slot></slot>
				</div>

			</paper-header-panel>
		</paper-drawer-panel>
	</template>
  <script>
    Polymer({

      is: 'gunui-demo-app',

      properties: {
       currentUrl: {
					type: String,
					value: function(){
            console.log('currentUrl : ', location.href.replace(this.resolveUrl('..'),''))
						return location.href.replace(this.resolveUrl('..'),'');
					}
				},
				searchTerm: {
					type: String,
					value: '',
					observer: 'search'
				}
      },

    ready(){
		  this.title = document.title;
      document.title += ' - GunUi';
      var link = document.createElement('link');
      link.type = 'image/x-icon';
      link.rel = 'shortcut icon';
      link.href = this.resolveUrl('./icon.png');
      document.getElementsByTagName('head')[0].appendChild(link);
			},
			navigate(e, detail){
				console.log(e,detail,detail.item.dataset)
        if(detail.selected){
          console.log(this.resolveUrl(detail.selected))
          location.href = this.resolveUrl(detail.selected);
        }
			},
			search(){

			}
			

    });
  </script>
</dom-module>
